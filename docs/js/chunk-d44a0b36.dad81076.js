(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d44a0b36"],{"5f42":function(t,e,a){},"7eb4":function(t,e,a){"use strict";var s=a("5f42"),i=a.n(s);i.a},"81f6":function(t,e,a){"use strict";var s=a("2b0e");e["a"]=new s["default"]},c6a7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"content"}},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/"}},[t._v("Home")]),a("BreadcrumbItem",{attrs:{to:"/upstream"}},[t._v("Upstream")])],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("h1",[t._v("Upstream List:")])]),a("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[a("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addUpstream}},[t._v("Add Upstream")])],1)],1),a("div",{attrs:{id:"table"}},[a("Table",{attrs:{border:"",columns:t.columns,data:t.upstreams,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.row;return[a("strong",[t._v(t._s(s.name))])]}},{key:"action",fn:function(e){var s=e.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.edit(s.id)}}},[t._v(t._s(t.$t("common.view")))]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteDialog(s.id)}}},[t._v(t._s(t.$t("common.delete")))])]}}])})],1),a("div",{staticClass:"page"},[a("ButtonGroup",[a("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),a("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)},i=[],o=a("c1df"),n=a.n(o),r=a("81f6"),c={name:"UpstreamList",data:function(){return{upstreams:[],loading:!0,columns:[{title:"id",key:"id"},{title:"name",key:"name",width:100},{title:"created_at",key:"createAtStr",width:160},{title:"hash_on",key:"hash_on",width:140},{title:"hash_on_cookie_path",key:"hash_on_cookie_path",width:140},{title:"Action",slot:"action",width:150,align:"center"}],offset:"",offsetStack:[]}},mounted:function(){r["a"].$emit("changePage",{activeName:"upstream-list",openNames:["upstream"]}),this.loadUpstreams()},methods:{addUpstream:function(){this.$router.push({path:"/upstreams/add"})},loadUpstreams:function(t){var e,a=this;t?e="/upstreams?offset="+t+"&size=10":(e="/upstreams?size=10",this.offsetStack=[],this.offset=""),this.loading=!0,this._get(e,function(t){a.upstreams=t.data.data,a.upstreams.map(function(t){var e=n.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var a=n.a.unix(t.updated_at);t.updatedAtStr=a.format("YYYY-MM-DD HH:mm:ss")}),a.offset=t.data.offset,a.loading=!1}),this.loading=!1},edit:function(t){this.$router.push("/upstreams/edit/"+t)},deleteDialog:function(t){var e=this,a=this;this.$Modal.confirm({title:this.$t("common.delete"),content:a.$t("common.deleteMessage",{id:t}),onOk:function(){a._delete("/upstreams/"+t,function(){e.$Message.info(e.$t("common.deleted",{type:"Upstream"})),e.loadUpstreams()})},onCancel:function(){}})},next:function(){var t=this.offset;this.loadUpstreams(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadUpstreams(t)}}},d=c,u=(a("7eb4"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,"223abf10",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-d44a0b36.dad81076.js.map