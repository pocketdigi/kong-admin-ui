(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dadb0a46"],{4095:function(t,e,i){"use strict";i("8ed0")},"81f6":function(t,e,i){"use strict";var s=i("2b0e");e["a"]=new s["default"]},"8ed0":function(t,e,i){},"97f7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"content"}},[i("Breadcrumb",[i("BreadcrumbItem",{attrs:{to:"/"}},[t._v(t._s(t.$t("breadcrumb.home")))]),i("BreadcrumbItem",{attrs:{to:"/services"}},[t._v(t._s(t.$t("breadcrumb.service_list")))])],1),i("Row",[i("Col",{attrs:{span:"12"}},[i("h1",[t._v(t._s(t.$t("breadcrumb.service_list"))+":")])]),i("Col",{staticStyle:{"text-align":"right",position:"absolute",top:"30%",right:"0px"},attrs:{span:"12"}},[i("Button",{attrs:{type:"primary",size:"small"},on:{click:t.addService}},[t._v(t._s(t.$t("breadcrumb.addService")))])],1)],1),i("div",{attrs:{id:"table"}},[i("Table",{attrs:{border:"",columns:t.columns,data:t.services,loading:t.loading},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.row;return[i("strong",[t._v(t._s(s.name))])]}},{key:"action",fn:function(e){var s=e.row;return[i("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.show(s.id)}}},[t._v(t._s(t.$t("common.view")))]),i("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.deleteDialog(s.id)}}},[t._v(t._s(t.$t("common.delete")))])]}}])}),i("div",{staticClass:"page"},[i("ButtonGroup",[i("Button",{attrs:{type:"primary",icon:"ios-skip-backward",disabled:0===t.offsetStack.length},on:{click:t.previous}}),i("Button",{attrs:{type:"primary",icon:"ios-skip-forward",disabled:!t.offset},on:{click:t.next}})],1)],1)],1)],1)},a=[],o=i("81f6"),r=i("c1df"),n=i.n(r),c={name:"ServiceList",data:function(){return{loading:!0,columns:[{title:"id",key:"id",width:110},{title:"name",slot:"name",width:100},{title:"host",key:"host",width:110},{title:"created_at",key:"createAtStr",width:160},{title:"protocol",key:"protocol",width:90},{title:"port",key:"port",width:70},{title:"path",key:"path"},{title:"updated_at",key:"updatedAtStr",width:160},{title:this.$t("common.action"),slot:"action",width:150,align:"center"}],services:[],offset:"",offsetStack:[]}},mounted:function(){o["a"].$emit("changePage",{activeName:"service-list",openNames:["service"]}),this.loadServices()},methods:{addService:function(){this.$router.push({path:"/services/add"})},show:function(t){this.$router.push("/services/"+t)},deleteDialog:function(t){var e=this,i=this;this.$Modal.confirm({title:this.$t("common.delete"),content:this.$t("common.deleteMessage",{id:t}),onOk:function(){i._delete("/services/"+t,(function(){e.$Message.info(e.$t("common.deleted",{type:"Service"})),e.loadServices()}))},onCancel:function(){}})},loadServices:function(t){var e,i=this;t?e="/services?offset="+t+"&size=10":(e="/services?size=10",this.offsetStack=[],this.offset=""),this.loading=!0,this._get(e,(function(t){i.services=[],Array.prototype.push.apply(i.services,t.data.data),i.services.map((function(t){var e=n.a.unix(t.created_at);t.createAtStr=e.format("YYYY-MM-DD HH:mm:ss");var i=n.a.unix(t.updated_at);t.updatedAtStr=i.format("YYYY-MM-DD HH:mm:ss")})),i.offset=t.data.offset,i.loading=!1}))},next:function(){var t=this.offset;this.loadServices(this.offset),this.offsetStack.push(t)},previous:function(){this.offsetStack.pop();var t=this.offsetStack[this.offsetStack.length-1];this.loadServices(t)}}},d=c,l=(i("4095"),i("2877")),u=Object(l["a"])(d,s,a,!1,null,"09a8ac8b",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-dadb0a46.29cd2b11.js.map