(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e799038"],{6521:function(t,e,s){},7089:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",[s("BreadcrumbItem",{attrs:{to:"/"}},[t._v(t._s(t.$t("breadcrumb.home")))]),s("BreadcrumbItem",{attrs:{to:"/services"}},[t._v("Service")]),t.edit?s("BreadcrumbItem",[t._v(t._s(t.serviceId))]):s("BreadcrumbItem",[t._v(t._s(t.$t("breadcrumb.addService")))])],1),s("Form",{staticStyle:{"margin-top":"20px"},attrs:{model:t.formItem,"label-width":120}},[s("FormItem",{attrs:{label:"name:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter Service name ..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldServiceName")))])],1),s("FormItem",{attrs:{label:"retries:"}},[s("InputNumber",{attrs:{min:1},model:{value:t.formItem.retries,callback:function(e){t.$set(t.formItem,"retries",e)},expression:"formItem.retries"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldRetries")))])],1),s("FormItem",{attrs:{label:"protocol:"}},[s("RadioGroup",{model:{value:t.formItem.protocol,callback:function(e){t.$set(t.formItem,"protocol",e)},expression:"formItem.protocol"}},[s("Radio",{attrs:{label:"http"}},[t._v("http")]),s("Radio",{attrs:{label:"https"}},[t._v("https")])],1),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldProtocol")))])],1),s("FormItem",{attrs:{label:"host:"}},[s("AutoComplete",{staticStyle:{width:"200px"},attrs:{data:t.upstreamNames,"filter-method":t.filterMethod,placeholder:"Enter host"},model:{value:t.formItem.host,callback:function(e){t.$set(t.formItem,"host",e)},expression:"formItem.host"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldHost")))])],1),s("FormItem",{attrs:{label:"port:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter port",number:""},model:{value:t.formItem.port,callback:function(e){t.$set(t.formItem,"port",e)},expression:"formItem.port"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldPort")))])],1),s("FormItem",{attrs:{label:"path:"}},[s("Input",{staticClass:"text_input",attrs:{placeholder:"Enter path"},model:{value:t.formItem.path,callback:function(e){t.$set(t.formItem,"path",e)},expression:"formItem.path"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldPath")))])],1),s("FormItem",{attrs:{label:"connect_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.connect_timeout,callback:function(e){t.$set(t.formItem,"connect_timeout",e)},expression:"formItem.connect_timeout"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldConnectTimeout")))])],1),s("FormItem",{attrs:{label:"write_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.write_timeout,callback:function(e){t.$set(t.formItem,"write_timeout",e)},expression:"formItem.write_timeout"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldWriteTimeout")))])],1),s("FormItem",{attrs:{label:"read_timeout:"}},[s("InputNumber",{staticClass:"text_input",model:{value:t.formItem.read_timeout,callback:function(e){t.$set(t.formItem,"read_timeout",e)},expression:"formItem.read_timeout"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldReadTimeout")))])],1),t.edit?t._e():s("FormItem",{attrs:{label:"url:"}},[s("Input",{staticStyle:{"max-width":"400px"},attrs:{placeholder:"Enter url"},model:{value:t.formItem.url,callback:function(e){t.$set(t.formItem,"url",e)},expression:"formItem.url"}}),s("span",{staticClass:"field_desc"},[t._v(t._s(t.$t("service.fieldUrl")))])],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:t.saveService}},[t._v("Save")])],1)],1)],1)},a=[],i=(s("7f7f"),{name:"AddService",data:function(){return{formItem:{name:"",retries:5,protocol:"http",host:"",port:80,path:"",connect_timeout:6e3,write_timeout:6e3,read_timeout:6e3,url:""},upstreamNames:[],serviceId:"",edit:!1}},mounted:function(){this.serviceId=this.$route.params.id,this.edit=null!=this.serviceId,this.loadUpstreams(),this.edit&&this.loadService()},methods:{loadUpstreams:function(){this.upstreamNames=[];var t=this;this._get("/upstreams/",(function(e){var s=e.data.data;s.map((function(e){t.upstreamNames.push(e.name)}))}))},filterMethod:function(t,e){return!t||-1!==e.toUpperCase().indexOf(t.toUpperCase())},saveService:function(){var t=this,e=JSON.parse(JSON.stringify(this.formItem));""===e.name&&delete e.name,""===e.host&&delete e.host,""===e.path&&(e.path="/"),""===e.url&&delete e.url,this.edit?this._patch("/services/"+this.serviceId,e,(function(){t.$router.go(-1)})):this._post("/services/",e,(function(){t.$router.push("/services")}))},loadService:function(){var t=this;this._get("/services/"+this.serviceId,(function(e){t.formItem=e.data}))}}}),o=i,m=(s("746e"),s("2877")),c=Object(m["a"])(o,r,a,!1,null,"177d9dfa",null);e["default"]=c.exports},"746e":function(t,e,s){"use strict";s("6521")},"7f7f":function(t,e,s){var r=s("86cc").f,a=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in a||s("9e1e")&&r(a,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-8e799038.4c6b7684.js.map